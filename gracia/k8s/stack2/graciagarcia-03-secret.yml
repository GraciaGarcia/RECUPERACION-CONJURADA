# ========================================
# STACK 2 - SECRET (Puerto Flexible)
# ========================================
# Archivo: gracia/k8s/stack2/graciagarcia-03-secret.yml
# Descripción: Almacena variables de entorno de forma segura
#              Incluye el PUERTO FLEXIBLE (9090)
# 
# COMANDO PARA APLICAR:
# kubectl apply -f k8s/stack2/graciagarcia-03-secret.yml
#
# COMANDOS PARA VERIFICAR:
# kubectl get secret -n graciagarcia-03-namespace
# kubectl get secret graciagarcia-03-secret -n graciagarcia-03-namespace -o yaml
# kubectl describe secret graciagarcia-03-secret -n graciagarcia-03-namespace
#
# IMPORTANTE: Este secret debe crearse ANTES del deployment
# ========================================

apiVersion: v1                          # Versión de la API de Kubernetes
kind: Secret                            # Tipo de recurso: Secret (datos sensibles)
metadata:                               # Metadatos del secret
  name: graciagarcia-03-secret          # Nombre del secret
  namespace: graciagarcia-03-namespace  # Namespace donde se crea
  labels:                               # Etiquetas del secret
    app: graciagarcia-app               # Etiqueta de la aplicación
    owner: graciagarcia                 # Propietario
type: Opaque                            # Tipo: Opaque (datos genéricos)
stringData:                             # Datos en texto plano (se codifican automáticamente)
  PORT: "9090"                          # PUERTO FLEXIBLE: 9090 (Stack 2)
  SPRING_DATASOURCE_URL: "jdbc:h2:mem:testdb"  # URL de H2 en memoria
  SPRING_DATASOURCE_USERNAME: "sa"     # Usuario de H2
  SPRING_DATASOURCE_PASSWORD: ""       # Contraseña vacía
