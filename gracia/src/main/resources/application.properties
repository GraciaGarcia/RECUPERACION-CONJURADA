# ========================================
# CONFIGURACION GENERAL DE LA APLICACION
# ========================================
spring.application.name=gracia

# PUERTO FLEXIBLE: Se toma de la variable de entorno PORT
# Si no existe la variable, usa 8090 por defecto
# Ejemplo: export PORT=8090 (Linux/Mac) o set PORT=8090 (Windows)
server.port=${PORT:8090}

# ========================================
# CONFIGURACION DE BASE DE DATOS H2 (EN MEMORIA)
# ========================================
# H2 es una base de datos temporal que se crea en memoria RAM
# Ventajas: Rapida, no requiere instalacion, perfecta para desarrollo
# Desventaja: Los datos se pierden al reiniciar la aplicacion

# URL de conexion: jdbc:h2:mem:testdb
# - jdbc:h2:mem: indica que es una base de datos H2 en memoria
# - testdb: nombre de la base de datos
spring.datasource.url=jdbc:h2:mem:testdb

# Driver JDBC de H2 (controlador para conectarse a la base de datos)
spring.datasource.driverClassName=org.h2.Driver

# Credenciales de acceso a H2
# Usuario por defecto: sa (system administrator)
# Password: vacio (sin contrase√±a)
spring.datasource.username=sa
spring.datasource.password=

# ========================================
# CONFIGURACION DE JPA/HIBERNATE
# ========================================
# Dialecto: Le dice a Hibernate que tipo de SQL usar (H2 en este caso)
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# DDL Auto: Controla como se crean/actualizan las tablas
# - create: Borra y crea las tablas cada vez que inicia la app
# - update: Actualiza las tablas sin borrar datos (RECOMENDADO)
# - create-drop: Crea al inicio y borra al cerrar
# - validate: Solo valida que las tablas existan
# - none: No hace nada
spring.jpa.hibernate.ddl-auto=update

# Mostrar las consultas SQL en la consola (util para debug)
spring.jpa.show-sql=true

# Formatear las consultas SQL para que sean mas legibles
spring.jpa.properties.hibernate.format_sql=true

# ========================================
# CONSOLA WEB DE H2 (INTERFAZ GRAFICA)
# ========================================
# Habilita la consola web de H2 para ver los datos
# Acceso: http://localhost:8090/h2-console
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# IMPORTANTE: Para acceder a la consola H2:
# 1. Abre: http://localhost:8090/h2-console
# 2. JDBC URL: jdbc:h2:mem:testdb
# 3. User Name: sa
# 4. Password: (dejar vacio)
# 5. Click en "Connect"

# ========================================
# CONFIGURACION DE LOGS
# ========================================
# Nivel de logs para el paquete de la aplicacion
# Niveles: TRACE, DEBUG, INFO, WARN, ERROR
logging.level.com.example.gracia=INFO

# Mostrar los valores de los parametros SQL (util para debug)
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ========================================
# CONFIGURACION DE SWAGGER/OPENAPI
# ========================================
# Documentacion interactiva de la API REST
# Acceso: http://localhost:8090/swagger-ui.html
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha

# ========================================
# NOTA IMPORTANTE PARA DOCKER
# ========================================
# Cuando la aplicacion se ejecuta en Docker con docker-compose,
# las variables de entorno sobrescriben estas configuraciones
# y se conecta a MySQL en lugar de H2
